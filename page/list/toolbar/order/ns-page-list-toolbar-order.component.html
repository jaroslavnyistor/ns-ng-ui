<div *ngIf="model.isVisible">
   <ns-icon-default isClickable="true"
                    [icon]="model.activeItemIcon"
                    [matMenuTriggerFor]="menu"
                    [matTooltip]="'Order' | translate">
      <span>{{model.activeItemTitle}}</span>
   </ns-icon-default>

   <mat-menu #menu="matMenu">
      <ng-container *ngFor="let item of model.items">
         <button mat-menu-item
                 [matMenuTriggerFor]="field">
            {{item.title}}
         </button>

         <mat-menu #field="matMenu">
            <ng-container *ngFor="let direction of item.directions">
               <ns-icon-default *ngIf="!direction.isActive"
                                [icon]="direction.icon"
                                class="mat-menu-item"
                                (click)="handleOrderItemClick(direction)">
                  {{direction.text}}
               </ns-icon-default>
            </ng-container>
         </mat-menu>
      </ng-container>
   </mat-menu>
</div>
