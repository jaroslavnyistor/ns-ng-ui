<mat-action-list>
   <ng-container *ngFor="let group of items$ | async; last as lastGroup;">
      <ng-container *ngIf="group.items.length > 0">
         <h3 *ngIf="hasTitle(group.title)"
             mat-subheader>
            {{group.title}}
         </h3>

         <mat-list-item *ngFor="let item of group.items; last as lastItem;"
                        (click)="handleItemClicked(item)">
            <ns-icon-default *ngIf="item.icon"
                             [ngStyle]="{ visibility: item.icon ? 'visible' : 'hidden'}"
                             [icon]="item.icon"
                             mat-list-icon>
            </ns-icon-default>

            <div mat-line>
               <div>{{item.title}}</div>

               <small *ngIf="item.subtitle"
                      style="display: block">
                  {{item.subtitle}}
               </small>
            </div>

            <mat-divider *ngIf="item === lastItem"
                         [inset]="true">
            </mat-divider>
         </mat-list-item>

         <mat-divider *ngIf="!lastGroup"></mat-divider>
      </ng-container>
   </ng-container>
</mat-action-list>
